// Obiectul de traduceri
const translations = {
    en: {
        translation: {
            siteName: "Website Name",
            home: "Home",
            about: "About",
            donate: "Donate",
            codeCompiler: "Code Compiler",
            contact: "Contact Us",
            login: "Log In",
            welcome: "Welcome to our website!",
            register: "Register",
            forgotPassword: "Forgot Password?",
            backToLogin: "Back to Login",
            authSuccess: "Authentication successful!",
            authError: "Authentication error",
            regSuccess: "Registration successful! You can now log in.",
            regError: "Registration error",
            resetSuccess: "An email with password reset instructions has been sent.",
            resetError: "Error sending reset email",
            generalError: "An error occurred. Please try again.",
            donatePage: "Donation Page",
            donateTitle: "Donate to support our project",
            name_user: "Username",
            password_user: "Password",
            auth_user: "Log In",
            close: "Close",
            authHeader: "Authentication",
            noAccount: "Don't have an account?",
            registerLink: "Register",
            registerHeader: "Registration",
            email: "Email",
            registerButton: "Register",
            alreadyHaveAccount: "Already have an account?",
            loginLink: "Log In",
            resetPasswordHeader: "Password Reset",
            sendResetLink: "Send Reset Link",           
            donateOption1Description: "Support us with a single donation",
            donateButton: "Donate now",
            donateDescription: "Help us continue to provide free educational resources for all.",
            autent: "Authentication",
            langEnglish: "English",
            langItalian: "Italiano",
            langRomanian: "Română",
            angularDescription: "Angular: Powerful framework for complex web applications",
            reactDescription: "React: JavaScript library for interactive user interfaces",
            githubDescription: "GitHub: Collaboration platform and version control",
            chatgptDescription: "ChatGPT: Artificial intelligence for programming assistance",
            htmlDescription: "HTML: Markup language for structuring web content",
            cssDescription: "CSS: Styling language for attractive web design",
            pythonDescription: "Python: Versatile language for rapid development and data analysis",
            clientsNumber: "32",
            salaryStat: "$75,000",
            programmersStat: "5,200,000",
            javaCoursePic: "Java Course",
            webDevCoursePic: "Web Development Course",
            pythonCoursePic: "Python Course",
            webDevelopment: "Complete Web Development",
            webDevelopmentDesc: "From HTML and CSS to JavaScript and modern frameworks",
            pythonDataScience: "Python and Data Science",
            pythonDataScienceDesc: "Explore data analysis and machine learning with Python",
            username: "Username",
            password: "Password",
            email: "Email",
            login: "Log In",
            register: "Register",
            usernamePlaceholder: "Email",
            passwordPlaceholder: "Password",
            emailPlaceholder: "Email",

            heroTitle: "Learn to program with Learn Programming",
            heroDescription: "Discover the fascinating world of programming through interactive courses and hands-on projects",
            exploreCourses: "Explore Courses",
            aboutUs: "About Us",
            aboutDescription: "At Learn programming, we believe that anyone can learn to program. Our courses are designed to guide you step by step, from basic concepts to advanced projects.",
            languagesTitle: "The languages ​​you can learn with us:",
            javaDescription: "Java: Versatile language for enterprise and mobile applications",
            javascriptDescription: "JavaScript: The web language for interactivity and dynamic applications",
            importantStatistics: "Important Statistics",
            clientsAccessed: "Customers who have accessed our courses",
            averageSalary: "Average programmer salary",
            programmersNumber: "Number of programmers throughout Europe and America",
            javaForBeginners: "Java for Beginners",
            javaForBeginnersDesc: "Learn the basics of object-oriented programming with Java",
            webDevelopment: "Complete Web Development",
            ourCourses: "Our courses",
            webDevelopmentDesc: "From HTML and CSS to JavaScript and modern frameworks",
            pythonDataScience: "Python and Data Science",
            pythonDataScienceDesc: "Explore data analysis and machine learning with Python",
            contactUs: "Contact us",
            yourName: "Your name",
            yourEmail: "Your email",
            yourMessage: "Your message",
            send: "Send",
            donateOption1Title: "Paypal",
            donateOption2Title: "Revolut",
            copyright: "2023 Learn programming. All rights reserved."


        }
    },
    ro: {
        translation: {
            siteName: "Numele Site-ului",
            home: "Acasă",
            about: "Despre",
            donate: "Donează",
            codeCompiler: "Compilator de cod",
            contact: "Contactează-ne",
            login: "Autentificare",
            welcome: "Bine ați venit pe site-ul nostru!",
            register: "Înregistrare",
            forgotPassword: "Ai uitat parola?",
            backToLogin: "Înapoi la Autentificare",
            authSuccess: "Autentificare reușită!",
            authError: "Eroare la autentificare",
            regSuccess: "Înregistrare reușită! Vă puteți autentifica acum.",
            regError: "Eroare la înregistrare",
            resetSuccess: "Un email cu instrucțiuni pentru resetarea parolei a fost trimis.",
            resetError: "Eroare la trimiterea emailului de resetare",
            generalError: "A apărut o eroare. Vă rugăm să încercați din nou.",
            donatePage: "Pagina de Donații",
            donateTitle: "Donează pentru a susține proiectul nostru",
            name_user: "Nume utilizator",
            password_user: "Parolă",
            auth_user: "Autentificare",
            close: "Închide",
            authHeader: "Autentificare",
            noAccount: "Nu ai cont?",
            registerLink: "Înregistrează-te",
            registerHeader: "Înregistrare",
            email: "Email",
            registerButton: "Înregistrare",
            alreadyHaveAccount: "Ai deja cont?",
            loginLink: "Autentifică-te",
            resetPasswordHeader: "Resetare Parolă",
            sendResetLink: "Trimite link de resetare",
            donateOption1Description: "Sprijină-ne cu o singură donație",
            donateButton: "Doneaza acum",
            donateDescription: "Ajutați-ne în continuare să oferim resurse educaționale gratuite pentru toți.",
            autent: "Autentificare",
            langEnglish: "Engleză",
            langItalian: "Italiană",
            langRomanian: "Română",
            angularDescription: "Angular: Framework puternic pentru aplicații web complexe",
            reactDescription: "React: Bibliotecă JavaScript pentru interfețe utilizator interactive",
            githubDescription: "GitHub: Platformă de colaborare și control al versiunilor",
            chatgptDescription: "ChatGPT: Inteligență artificială pentru asistență în programare",
            htmlDescription: "HTML: Limbaj de marcare pentru structurarea conținutului web",
            cssDescription: "CSS: Limbaj de stilizare pentru design web atractiv",
            pythonDescription: "Python: Limbaj versatil pentru dezvoltare rapidă și analiză de date",
            clientsNumber: "32",
            salaryStat: "75.000 $",
            programmersStat: "5.200.000",
            javaCoursePic: "Curs de Java",
            webDevCoursePic: "Curs de Web Development",
            pythonCoursePic: "Curs de Python",
            webDevelopment: "Web Development Complet",
            webDevelopmentDesc: "De la HTML și CSS la JavaScript și framework-uri moderne",
            pythonDataScience: "Python și Data Science",
            pythonDataScienceDesc: "Explorează analiza datelor și machine learning cu Python",
            username: "Nume utilizator",
            password: "Parolă",
            email: "Email",
            login: "Autentificare",
            register: "Înregistrare",
            usernamePlaceholder: "Email",
            passwordPlaceholder: "Parolă",
            emailPlaceholder: "Email",
            heroTitle: "Învață să programezi cu Learn Programming",
            heroDescription: "Descoperă lumea fascinantă a programării prin cursuri interactive și proiecte practice",
            exploreCourses: "Explorează Cursurile",
            aboutUs: "Despre Noi",
            aboutDescription: "La Learn Programming, credem că oricine poate învăța să programeze. Cursurile noastre sunt concepute pentru a te ghida pas cu pas, de la concepte de bază până la proiecte avansate.",
            languagesTitle: "Limbajele pe care le poți învăța cu noi:",
            javaDescription: "Java: Limbaj versatil pentru aplicații enterprise și mobile",
            javascriptDescription: "JavaScript: Limbajul web pentru interactivitate și aplicații dinamice",
            importantStatistics: "Statistici Importante",
            clientsAccessed: "Clienți care au accesat cursurile noastre",
            averageSalary: "Salariul mediu al programatorilor",
            programmersNumber: "Numărul de programatori din Europa și America",
            javaForBeginners: "Java pentru Începători",
            javaForBeginnersDesc: "Învață bazele programării orientate pe obiecte cu Java",
            webDevelopment: "Dezvoltare Web Completă",
            ourCourses: "Cursurile Noastre",
            webDevelopmentDesc: "De la HTML și CSS la JavaScript și framework-uri moderne",
            pythonDataScience: "Python și Data Science",
            pythonDataScienceDesc: "Explorează analiza datelor și învățarea automată cu Python",
            contactUs: "Contactează-ne",
            yourName: "Numele tău",
            yourEmail: "Adresa ta de email",
            yourMessage: "Mesajul tău",
            send: "Trimite",
            copyright: "2023 Learn Programming. Toate drepturile rezervate."
        }
    },
    it: {
        translation: {
            siteName: "Nome del Sito",
            home: "Home",
            about: "Chi Siamo",
            donate: "Dona",
            codeCompiler: "Compilatore di Codice",
            contact: "Contattaci",
            login: "Accedi",
            welcome: "Benvenuti nel nostro sito!",
            register: "Registrati",
            forgotPassword: "Password Dimenticata?",
            backToLogin: "Torna al Login",
            authSuccess: "Autenticazione riuscita!",
            authError: "Errore di autenticazione",
            regSuccess: "Registrazione riuscita! Ora puoi accedere.",
            regError: "Errore di registrazione",
            resetSuccess: "È stata inviata un'email con le istruzioni per reimpostare la password.",
            resetError: "Errore nell'invio dell'email di reset",
            generalError: "Si è verificato un errore. Per favore riprova.",
            donatePage: "Pagina di donazione",
            donateTitle: "Dona per sostenere il nostro progetto",
            name_user: "Nome utente",
            password_user: "Password",
            auth_user: "Autenticazione",
            close: "Chiudi",
            authHeader: "Autenticazione",
            noAccount: "Non hai un account?",
            registerLink: "Registrati",
            registerHeader: "Registrazione",
            email: "Email",
            registerButton: "Registrati",
            alreadyHaveAccount: "Hai già un account?",
            loginLink: "Accedi",
            resetPasswordHeader: "Reset della Password",
            sendResetLink: "Invia link di reset",
            donateOption1Description: "Sostienici con una sola donazione",
            donateButton: "Dona ora",
            donateDescription: "Aiutaci a continuare a fornire risorse educative gratuite per tutti.",
            autent: "Autenticazione",
            langEnglish: "Inglese",
            langItalian: "Italiano",
            langRomanian: "Rumeno",
            angularDescription: "Angular: Framework potente per applicazioni web complesse",
            reactDescription: "React: Libreria JavaScript per interfacce utente interattive",
            githubDescription: "GitHub: Piattaforma di collaborazione e controllo versione",
            chatgptDescription: "ChatGPT: Intelligenza artificiale per assistenza alla programmazione",
            htmlDescription: "HTML: Linguaggio di markup per strutturare contenuti web",
            cssDescription: "CSS: Linguaggio di stile per un design web attraente",
            pythonDescription: "Python: Linguaggio versatile per sviluppo rapido e analisi dati",
            clientsNumber: "32",
            salaryStat: "75.000 $",
            programmersStat: "5.200.000",
            javaCoursePic: "Corso di Java",
            webDevCoursePic: "Corso di Sviluppo Web",
            pythonCoursePic: "Corso di Python",
            webDevelopment: "Sviluppo Web Completo",
            webDevelopmentDesc: "Da HTML e CSS a JavaScript e framework moderni",
            pythonDataScience: "Python e Data Science",
            pythonDataScienceDesc: "Esplora l'analisi dei dati e il machine learning con Python",
            username: "Nome utente",
            password: "Password",
            email: "Email",
            login: "Accedi",
            register: "Registrati",
            usernamePlaceholder: "Email",
            passwordPlaceholder: "Password",
            emailPlaceholder: "Email",
            heroTitle: "Impara a programmare con Learn Programming",
            heroDescription: "Scopri il mondo affascinante della programmazione attraverso corsi interattivi e progetti pratici",
            exploreCourses: "Esplora i Corsi",
            aboutUs: "Chi Siamo",
            aboutDescription: "In Learn Programming, crediamo che chiunque possa imparare a programmare. I nostri corsi sono progettati per guidarti passo dopo passo, dai concetti di base ai progetti avanzati.",
            languagesTitle: "I linguaggi che puoi imparare con noi:",
            javaDescription: "Java: Linguaggio versatile per applicazioni aziendali e mobili",
            javascriptDescription: "JavaScript: Il linguaggio web per interattività e applicazioni dinamiche",
            importantStatistics: "Statistiche Importanti",
            clientsAccessed: "Clienti che hanno acceduto ai nostri corsi",
            averageSalary: "Stipendio medio dei programmatori",
            programmersNumber: "Numero di programmatori in Europa e America",
            javaForBeginners: "Java per Principianti",
            javaForBeginnersDesc: "Impara le basi della programmazione orientata agli oggetti con Java",
            webDevelopment: "Sviluppo Web Completo",
            ourCourses: "I Nostri Corsi",
            webDevelopmentDesc: "Da HTML e CSS a JavaScript e framework moderni",
            pythonDataScience: "Python e Data Science",
            pythonDataScienceDesc: "Esplora l'analisi dei dati e l'apprendimento automatico con Python",
            contactUs: "Contattaci",
            yourName: "Il tuo nome",
            yourEmail: "La tua email",
            yourMessage: "Il tuo messaggio",
            send: "Invia",
            copyright: "2023 Learn Programming. Tutti i diritti riservati."
        }
    }
};

// Funcție pentru actualizarea placeholder-urilor
function updatePlaceholders() {
    $('[data-i18n-placeholder]').each(function() {
        var $this = $(this);
        var key = $this.data('i18n-placeholder');
        $this.attr('placeholder', i18next.t(key));
    });
}

// Funcție pentru actualizarea placeholder-urilor și a altor elemente specifice
function updateTranslations() {
    $('[data-i18n]').each(function() {
        var $this = $(this);
        var key = $this.data('i18n');
        var translated = i18next.t(key);
        
        if ($this.is('input')) {
            $this.attr('placeholder', translated);
        } else {
            $this.text(translated);
        }
    });

    $('[data-i18n-placeholder]').each(function() {
        var $this = $(this);
        var key = $this.data('i18n-placeholder');
        $this.attr('placeholder', i18next.t(key));
    });
}

// Funcție pentru inițializarea i18n
function initializeI18n(language) {
    i18next.init({
        lng: language,
        fallbackLng: 'en',
        resources: translations,
    }, function(err, t) {
        jqueryI18next.init(i18next, $);
        updateTranslations();
        $('#langSelect').val(i18next.language);
    });
}

// Funcție pentru schimbarea limbii
function changeLanguage(language) {
    localStorage.setItem('selectedLanguage', language);
    i18next.changeLanguage(language, function() {
        updateTranslations();
    });
}

// Funcție care este apelată la încărcarea paginii
function initializeI18nOnLoad() {
    const savedLanguage = localStorage.getItem('selectedLanguage') || navigator.language.split('-')[0];
    initializeI18n(savedLanguage);
}

// Apelează funcția de inițializare la încărcarea paginii
$(document).ready(function() {
    initializeI18nOnLoad();

    // Event listener pentru selectarea limbii
    $('#langSelect').on('change', function() {
        changeLanguage(this.value);
    });

    // Actualizează traducerile în modaluri după ce acestea sunt deschise
    $('#myModal, #authModal').on('shown.bs.modal', function () {
        updateTranslations();
    });

    // Event listener pentru schimbarea limbii
    i18next.on('languageChanged', function() {
        updateTranslations();
    });
});

